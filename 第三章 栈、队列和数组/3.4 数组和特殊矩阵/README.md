#### 数组的存储结构

* **一维数组**

设一维数组为 $a[0,\cdots,n-1]$(即有 $n$个元素,下标从 $0$到 $n-1$),类型为 $ElemType$(长度为 $L$), $a_i$的存放地址为 $LOC(a_i)=LOC(a_0)+L\times i$ ,此处 $0 \le i \le n-1$;

如果询问是第 $j$个元素(从 $1$到 $n$,注意和**下标**的差别,与下标相差 $1$),此时第 $j$个元素的存放地址为 $LOC(a_{j-1})=LOC(a_0)+L\times (j-1)$,此处 $1\le j \le n$

* **二维数组**

>  **行优先**(内存地址中一行一行的放,平常使用较多)
>
>  设二维数组为 $b[0,\cdots,n-1][0,\cdots,m-1]$(即有 $n\times m$个元素,行下标从 $0$到 $n-1$,列下标从 $0$到 $m-1$),类型为 $ElemType$(长度为 $L$), $a_{i,j}$的存放地址为 $LOC(a_{i,j})=LOC(a_{0,0})+(i \times m + j) \times L$,偏移量是 $\color{Red}{i\times m +j}$(说明前面有 $i$行,每行有 $m$个,当前行的第 $j$个)
>
>  ![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_f0eaebb92e-20230730113325.png) 


>  **列优先**(内存地址中一列一列的放)
>
>  设二维数组为 $b[0,\cdots,n-1][0,\cdots,m-1]$(即有 $n\times m$个元素,行下标从 $0$到 $n-1$,列下标从 $0$到 $m-1$),类型为 $ElemType$(长度为 $L$), $a_{i,j}$的存放地址为 $LOC(a_{i,j})=LOC(a_{0,0})+(j \times n + i) \times L$,偏移量是 $\color{Red}{j\times n +i}$(说明前面有 $j$列,每列有 $n$个,当前列的第 $i$个)
>
>  ![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_fd66cb642e-20230730113341.png) 

**计算公式**:  $\color{Orange}{LOC(a_{i,j})=LOC(第一个元素)+(a_{i,j}前面的元素个数)*每个元素所占用字节}$



#### 特殊矩阵的压缩存储

##### 对称矩阵

在 $n$阶矩阵 $A$中,任意一个元素 $a_{i,j}$,都有 $a_{i,j}=a_{j,i}$（ $1 \le i,j \le n$,注意此处不是下标),称为对称矩阵。它分为三个区域(分别是**上三角区**( $i < j$),**下三角区** ( $i > j$)和**主对角线** $i=j$),若要进行压缩,只需要存储`上(或下)三角区`和`主对角线`即可,压缩后的元素个数为 $\frac{n(n+1)}{2}$(假设以下三角区和主对角线为例,第一行需要存储 $1$个,第二行需要存储 $2$个,第 $i$行需要存储 $i$个,是个等差数列求和),将其映射成**一维数组**.

![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_30bcf8772e-20230730163619.png)  

>  1.**行优先**且以`下三角区`和`主对角线`为核心
>
>  ![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_609d1acc2e-20230730150401.png) 
>
>  * 第一行 $1$个元素;
>  * 第二行 $2$个元素;
>  *  $\cdots$;
>  * 第 $i-1$行 $i-1$个元素;
>  * 第 $i$行 $i$个元素.
>
>  若想求出对应的 $a_{i,j}$( $i \geq j$)的映射一维数组下标(此处下标是从 $0$开始的),先计算出 $a_{i,j}$前面有多少个元素(前 $i-1$行总共有 $\frac{(i-1+1)(i-1)}{2}=\frac{i(i-1)}{2}$个元素,第 $i$行有 $j-1$个元素);
>
>  若想求出对应的 $a_{i,j}$( $i < j$)的映射一维数组下标(此处下标是从 $0$开始的),先计算出 $a_{i,j}$前面有多少个元素(由于对称矩阵可看作是 $i,j$进行交换);
>
>  整理得:
>
>  ![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_06ba5cfc2e-20230730151621.png) 
>
>  2.**行优先**且以`上三角区`和`主对角线`为核心
>
>  ![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_574b7a342e-20230730152225.png)  
>
>  * 第一行 $n$个元素;
>
>  * 第二行 $n-1$个元素;
>
>  * $\cdots$
>
>  * 第 $i-1$行 $n+1-(i-1)=n+2-i$个元素;
>
>  * 第 $i$行 $n+1-i$个元素.
>
>  若想求出对应的 $a_{i,j}$( $i \leq j$)的映射一维数组下标(此处下标是从 $0$开始的),先计算出 $a_{i,j}$前面有多少个元素(前 $i-1$行总共有 $\frac{(n+n+2-i)(i-1)}{2}=\frac{(2n-i+2)(i-1)}{2}$个元素,第 $i$行有 $j-i$个元素);
>
>  若想求出对应的 $a_{i,j}$( $i > j$)的映射一维数组下标(此处下标是从 $0$开始的),先计算出 $a_{i,j}$前面有多少个元素(由于**对称矩阵**原因可看作是 $i,j$进行交换);
>
>  整理得:
>
>  ![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_54bd697f2e-20230730154716.png)   



>  3.**列优先**且以`下三角区`和`主对角线`为核心
>
>  ![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_166a95012e-20230730153817.png) 
>
>  * 第一列 $n$个元素;
>  * 第二列 $n-1$个元素;
>  * $\cdots$
>
>  * 第 $j-1$列 $n+1-(j-1)=n+2-j$个元素;
>
>  * 第 $j$列 $n+1-j$个元素.
>
>  若想求出对应的 $a_{i,j}$( $i \geq j$)的映射一维数组下标(此处下标是从 $0$开始的),先计算出 $a_{i,j}$前面有多少个元素(前 $j-1$列总共有 $\frac{(n+n+2-j)(j-1)}{2}=\frac{(2n-j+2)(j-1)}{2}$个元素,第 $j$列有 $i-j$个元素);
>
>  若想求出对应的 $a_{i,j}$( $i < j$)的映射一维数组下标(此处下标是从 $0$开始的),先计算出 $a_{i,j}$前面有多少个元素(由于**对称矩阵**原因可看作是 $i,j$进行交换);
>
>  整理得:
>
>  ![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_03a28de92e-20230730155857.png) 
>
>  4.**列优先**且以`上三角区`和`主对角线`为核心
>
>  ![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_bffdea9d2e-20230730160422.png) 
>
>  * 第一列 $1$个元素;
>  * 第二列 $2$个元素;
>  *  $\cdots$;
>  * 第 $j-1$列 $j-1$个元素;
>  * 第 $j$列 $j$个元素.
>
>  若想求出对应的 $a_{i,j}$( $i \leq j$)的映射一维数组下标(此处下标是从 $0$开始的),先计算出 $a_{i,j}$前面有多少个元素(前 $j-1$列总共有 $\frac{(j-1+1)(j-1)}{2}=\frac{j(j-1)}{2}$个元素,第 $j$列有 $i-1$个元素);
>
>  若想求出对应的 $a_{i,j}$( $i > j$)的映射一维数组下标(此处下标是从 $0$开始的),先计算出 $a_{i,j}$前面有多少个元素(由于对称矩阵可看作是 $i,j$进行交换);
>
>  整理得:
>
>  ![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_7b94263c2e-20230730160941.png) 

##### 三角矩阵

三角矩阵分为两种,分别是**上三角矩阵**(下三角区的所有元素均为常量)和**下三角矩阵**(上三角区的所有元素均为常量),压缩无非是在对称矩阵压缩条件下再增加一个空间存储另一个区的常量,即压缩后的元素个数为 $\frac{n(n+1)}{2}+1$

* 下三角矩阵

可参考**对称矩阵**( $1$行优先, $3$列优先)的存储,此处直接给出结论,不作证明

![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_c5635c962e-20230730162228.png) 

* 上三角矩阵

可参考**对称矩阵**( $2$行优先, $4$列优先)的存储,此处直接给出结论,不作证明

![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_c7ef36122e-20230730163316.png) 

##### 三对角矩阵



##### 稀疏矩阵

设矩阵元素个数为 $m$ ,非零元素的个数为 $n$,其中非零元素极少,即 $n \ll m$,称为稀疏矩阵.只存储`非零元素`进行空间压缩

![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_75e5dcba2e-20230730121758.png) 

* **三元组(行标,列标,值)**——顺序存储

![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_8c76e5552e-20230730122111.png) 

* **十字链表**——链式存储

>  $i,j,value$分别代表非零元素所在的行号、列号和相应的元素值； $down$和 $right$分别称为向下指针和向右指针,分别用来链接同列中和同行中的下一个非零元素结点。
>
>  ![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_a60435b42e-20230730122155.png) 

![](https://cdn.acwing.com/media/article/image/2023/07/30/85276_af3ca5662e-20230730125756.png) 