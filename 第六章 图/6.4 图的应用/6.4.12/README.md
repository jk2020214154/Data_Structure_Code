#### 6.4.12

>  **2018统考真题**：拟建设一个光通信骨干网络连通 $BJ,CS,XA,QD,JN,NJ,TL和WH$ 等 $8$个城市.下图中无向边上的权值表示两个城市之间备选光缆的铺设费用.(猜测 $8$个城市分别是 `北京,长沙,西安,青岛,济南,南京,铁岭,武汉`)
>
>  1. 仅从铺设费用角度出发,给出所有可能的最经济的光缆铺设方案(用带权图表示),并计算相应方案的总费用.
>  2. 该图可采用图的哪种存储结构?给出求解问题 $1$所用的算法名称.
>  3. 假设每个城市采用一个路由器按 $1$中得到的最经济方案组网,主机 $H1$直接连接在 $TL$的路由器上,主机 $H2$直接连接在 $BJ$的路由器上,若 $H1$向 $H2$发送一个 $TTL=5$的 $IP$分组,则 $H2$是否可以收到该 $IP$分组?
>
>  ![](https://cdn.acwing.com/media/article/image/2023/10/27/85276_0aeeb92174-20231027173423.png) 



(1) 方案如下,两种方案的总费用均为 $2\times 5 + 3\times 2=16$.

![](https://cdn.acwing.com/media/article/image/2023/10/27/85276_2946ae8a74-20231027173517.png)

(2) 存储结构为**邻接矩阵**(或**邻接表**) ,算法名称为 $Kruskal$**算法**(或 $Prim$**算法**).

(3) $IP$分组每经过一个路由器 $R$的转发,其头部中的生存时间 $TTL$字段的值减 $1$,当 $TTL$字段的值减少到 $0$时路由器会丢弃该 $IP$分组并给源主机发送`时间超过`类型的 $ICMP$差错报告报文.

* 对于方案 $1$,主机 $H1$给 $H2$发送 $IP$分组, $IP$分组的转发路径为 $H1 \to R_{TL} \to R_{JN} \to R_{QD} \to R_{WH} \to R_{XA} \to R_{BJ} \to H2$, $IP$分组从 $H1$发出时其 $TTL=5$,当该分组转发进入 $R_{XA}$路由器时,其 $TTL=0$,该分组会被 $R_{XA}$路由器丢弃,因此 $H2$不能收到该 $IP$分组.

* 对于方案 $2$,主机 $H1$给 $H2$发送 $IP$分组, $IP$分组的转发路径为 $H1 \to R_{TL} \to R_{BJ} \to H2$, $IP$分组从 $H1$发出时其 $TTL=5$,中途只需经过 $R_{TL}$和 $R_{BJ}$两个路由器,因此主机 $H2$可以收到该 $IP$分组.

  